webpackJsonp([20],{"4Ryd":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("mtWM"),c=a.n(n),o=a("X2Oc"),s={name:"AccountList",data:function(){return{accountList:[],currentPage:1,pageSize:20,total:0,totalVote:0,isloading:!1}},created:function(){this.getAccountList()},methods:{getRank:function(t,e){for(var a in this.accountList){if(this.accountList[a].id==e.id)return+a+1+t}},getAccountList:function(){var t=this;t.isloading=!0,c.a.get("/api/token/accountList",{params:{tokenid:"INT",pageNum:t.$route.params.p,pageSize:t.pageSize}}).then(function(e){var a=e.data;"success"===a.status&&(t.isloading=!1,t.total=a.data.total,t.totalVote=a.data.totalVote,t.currentPage=+t.$route.params.p,t.accountList=a.data.accountList,t.accountList.forEach(function(e){e.createTime=Object(o.a)(e.createTime),e.weight=(+e.balance+e.stake)/Math.pow(10,9),e.weight=Math.floor(100*e.weight*Math.pow(10,7))/Math.pow(10,7)+"%",e.balance=Object(o.b)(+e.balance,5)+" INT",e.reward=0,2==e.hasVoteNode&&(e.reward=(e.stake/t.totalVote*10958.903424000002).toFixed(4)+" INT")}))}).catch(function(t){alert(t)})},handleCurrentChange:function(t){this.currentPage=t,this.$router.push("/blockchain/accountlist/"+t),this.getAccountList()},handleSizeChange:function(t){this.pageSize=t,this.getAccountList()},handleClickAddress:function(t){this.$router.push({path:"/blockchain/accountdetail/1",query:{address:t}})}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"account-list"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v(t._s(t.$t("nav.home")))]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:""}},[t._v(t._s(t.$t("account.accounts")))])],1),t._v(" "),a("div",{staticStyle:{padding:"40px 44px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.isloading,expression:"isloading"}],attrs:{data:t.accountList}},[a("el-table-column",{attrs:{prop:"",label:t.$t("account.rank"),width:"65",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.getRank((t.currentPage-1)*t.pageSize,e.row)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:t.$t("account.address"),width:"345",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"btn-hash",attrs:{type:"text"},on:{click:function(a){t.handleClickAddress(e.row.address)}}},[t._v(t._s(e.row.address))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:t.$t("account.createTime"),width:"170",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"balance",label:t.$t("account.balance"),align:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:t.$t("account.voted"),width:"100",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(1==e.row.hasVoteNode?0:e.row.stake))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"weight",label:t.$t("account.weight"),align:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"txCount",label:t.$t("blocksList.txns2"),width:"70",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"reward",label:t.$t("blocksList.accountReward"),align:"left"}})],1),t._v(" "),a("el-pagination",{staticClass:"ep",attrs:{"current-page.sync":"currentPage","page-size":20,"page-sizes":[10,20,50,100],layout:"sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var i=a("VU/8")(s,l,!1,function(t){a("nncZ")},null,null);e.default=i.exports},nncZ:function(t,e){}});
//# sourceMappingURL=20.2fee6f4cfdca2f9570cb.js.map